<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:microcharts="clr-namespace:Microcharts.Maui;assembly=Microcharts.Maui"
             x:Class="Mauixui.Views.FinanceView"
             BackgroundColor="#1E1E1E">

    <Grid x:Name="RootGrid">

        <!-- üîπ –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Ñ–∏–Ω–∞–Ω—Å–æ–≤ -->
        <ScrollView x:Name="FinanceHome" Padding="20">
            <VerticalStackLayout Spacing="15">

                <Label Text="üí∞ –§–∏–Ω–∞–Ω—Å—ã" FontSize="26" TextColor="White" FontAttributes="Bold"/>
                <Label x:Name="BalanceLabel" Text="–ë–∞–ª–∞–Ω—Å: 0 ‚ÇΩ" FontSize="20" TextColor="#23D160"/>

                <HorizontalStackLayout Spacing="10">
                    <Button Text="üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏"
                            BackgroundColor="#40444B"
                            TextColor="White"
                            Clicked="OpenCategories"/>
                    <Button Text="üíº –ë—é–¥–∂–µ—Ç—ã"
                            BackgroundColor="#40444B"
                            TextColor="White"
                            Clicked="OpenBudgets"/>
                    <Button Text="üè¶ –ê–∫—Ç–∏–≤—ã"
                            BackgroundColor="#40444B"
                            TextColor="White"
                            Clicked="OpenAssets"/>
                    <Button Text="üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
                            BackgroundColor="#40444B"
                            TextColor="White"
                            Clicked="OpenStatistics"/>
                </HorizontalStackLayout>

                <!-- –î–∏–∞–≥—Ä–∞–º–º–∞ -->
                <Frame BackgroundColor="#2D2D30"
        CornerRadius="16"
        Padding="10">
                    <VerticalStackLayout>
                        <Label Text="–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤"
                TextColor="#FFFFFF"
                FontAttributes="Bold"
                FontSize="16"
                Margin="0,0,0,5"/>
                        <microcharts:ChartView x:Name="ChartView"
                                HeightRequest="200"/>
                    </VerticalStackLayout>
                </Frame>

                <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
                <Frame BackgroundColor="#2D2D30"
        CornerRadius="16"
        Padding="12"
        Margin="0,10,0,0">

                    <VerticalStackLayout Spacing="10">

                        <!-- –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
                        <HorizontalStackLayout Spacing="10">
                            <Picker x:Name="TypePicker"
                     WidthRequest="150"
                     Title="–¢–∏–ø">
                                <Picker.Items>
                                    <x:String>–î–æ—Ö–æ–¥</x:String>
                                    <x:String>–†–∞—Å—Ö–æ–¥</x:String>
                                </Picker.Items>
                            </Picker>

                            <Picker x:Name="CategoryPicker"
                     WidthRequest="150"
                     Title="–ö–∞—Ç–µ–≥–æ—Ä–∏—è"/>
                        </HorizontalStackLayout>

                        <Entry x:Name="DescriptionEntry"
                Placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"
                BackgroundColor="#40444B"
                TextColor="#FFFFFF"
                PlaceholderColor="#888888"/>

                        <Entry x:Name="AmountEntry"
                Placeholder="–°—É–º–º–∞"
                Keyboard="Numeric"
                BackgroundColor="#40444B"
                TextColor="#FFFFFF"
                PlaceholderColor="#888888"/>

                        <DatePicker x:Name="DatePicker"
                     Format="dd.MM.yyyy"
                     TextColor="White"/>

                        <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
                            <Button Text="–î–æ–±–∞–≤–∏—Ç—å"
                     BackgroundColor="#4CAF50"
                     TextColor="White"
                     Clicked="AddFinanceItem"/>
                            <Button Text="–û—á–∏—Å—Ç–∏—Ç—å"
                     BackgroundColor="#FF4B4B"
                     TextColor="White"
                     Clicked="ClearFields"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Frame>

                <!-- –ò—Å—Ç–æ—Ä–∏—è -->
                <Label Text="–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π"
        TextColor="White"
        FontAttributes="Bold"
        FontSize="16"/>

                <ScrollView HeightRequest="250">
                    <VerticalStackLayout x:Name="FinanceList" Spacing="8"/>
                </ScrollView>

            </VerticalStackLayout>
        </ScrollView>

        <!-- üîπ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ -->
        <Grid x:Name="InnerViewContainer"
              IsVisible="False"
              BackgroundColor="#1E1E1E">

            <VerticalStackLayout>
                <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
                <Button Text="‚Üê –ù–∞–∑–∞–¥"
                        BackgroundColor="#40444B"
                        TextColor="White"
                        Margin="10"
                        Clicked="GoBackToFinance"/>

                <!-- –ú–µ—Å—Ç–æ, –∫—É–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥—Ä—É–≥–æ–π –≤–∏–¥ -->
                <ContentView x:Name="InnerViewContent"/>
            </VerticalStackLayout>
        </Grid>
    </Grid>

</ContentView>


